<!DOCTYPE html>
<html data-type="example" data-id="object-movie-animation-sprite">
<head>
    <title>Mazda Vehicle 360 Spin</title>
    <meta charset='utf-8' content='text/html' http-equiv='Content-type'/>

    <script src='http://code.jquery.com/jquery-1.9.1.min.js' type='text/javascript'></script>
    <script src='http://code.vostrel.cz/jquery.reel-1.2.1-bundle.js' type='text/javascript'></script>

    <style>

        #vehicleDisplay {
            position: relative;
        }

        #base-reel, #colour-reel, #wheel-reel {
            position: absolute;
        }

    </style>
    <!-- Common examples style (gray background, thin fonts etc.) -->

</head>
<body>

<h1>Mazda 360</h1>

<div id='vehicleDisplay'>
    <img id="base" src='resources/images/CX5/cx5_grade_selection_zeal_red.jpg' width="718" height="290" />
    <img id="wheel" src='resources/images/CX5/cx5_wheels_accessory_19_inch_alloy.png' width="718" height="290" />
</div>

<script>

    $(function () {

        var pathPrepend = 'resources/images/M6%20New/718x290/';

        function createReel(id, assetPath) {
            return $('#' + id).reel
            ({
                frames: 24,
                frame: 1,
                images: pathPrepend + assetPath,
                revolution: 1200,
                loops:false
            });
        };


        var baseReel = createReel('base', 'm6_base_sedan_####.png|0..24');

        var wheel = createReel('wheel', 'm6_alloy_19_x_spoke_sedan_###.png|0..24');

        var colour = createReel('colour', 'm6_body_colour_sedan_soul_red_###.png|0..24');

        var headlights = createReel('headlights', 'm6_headlight_halogen_###.png|0..24');

        headlights.bind('fractionChange', function (e, a, b) {
            console.log('@', b)
            baseReel.reel('fraction', b);
            colour.reel('fraction', b);
            wheel.reel('fraction', b);
            baseReel.reel('fraction', b);
        })

    })
</script>

</body>
</html>

